; .orig x3000
0011 0000 0000 0000

; ; initialize all register
; AND R0, R0, #0      ; R0 is ...1111...
; ADD R0, R0, xF
0101 000 000 1 00000
0001 000 000 1 01111

; AND R1, R1, #0      ; R1 is the number to be tested
0101 001 001 1 00000

; AND R2, R2, #0      ; R2 is used to store tmp result
0101 010 010 1 00000

; AND R3, R3, #0      ; use R3 to count loop time
0101 011 011 1 00000

; AND R4, R4, #0      ; use R4 to store max loop time 12
; ADD R4, R4, #12
0101 100 100 1 00000
0001 100 100 1 01100

; LD R1, xF8
0010 001 011111000


; AND R2, R0, R1
; ; R2 = R0 - R2
; NOT R2, R2
; ADD R2, R2, #1
; ADD R2, R2, R0
0101 010 000 000 001
1001 010 010 111111
0001 010 010 1 00001
0001 010 010 000 000

; ; if R2 == 0
; BRz #7
0000 010 000000111

; ; else
; ADD R0, R0, R0  ; R0 <<= R0
0001 000 000 000 000

; ; determine stop loop or not
; ADD R3, R3, #1
0001 011 011 1 00001
; ; R2 = R4 - R3
; NOT R2, R3
; ADD R2, R2, #1
; ADD R2, R2, R4
; BRn #4  ; stop
1001 010 011 111111
0001 010 010 1 00001
0001 010 010 000 100
0000 100 000000100


; BR #-12
0000 111 111110100

; AND R2, R2, #0
; ADD R2, R2, #1
; HALT
0101 010 010 1 00000
0001 010 010 1 00001
1111 0000 0010 0101

; AND R2, R2, #0
; HALT
0101 010 010 1 00000
1111 0000 0010 0101
